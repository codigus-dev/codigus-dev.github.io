<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="647px" preserveAspectRatio="none" style="width:1339px;height:647px;background:#222222;" version="1.1" viewBox="0 0 1339 647" width="1339px" zoomAndPan="magnify"><defs/><g><!--class Scenario--><polygon fill="#222222" points="710.5,8,710.5,8.2102,720.9,7.5857,731.3,8.1933,741.7,8.3997,752.1,7.2866,762.5,7.9223,772.9,7.5735,783.3,7.6165,793.7,7.9318,804.1,7.3086,814.5,8,815.0536,8,813.8697,17.4623,814.3022,26.9246,814.9319,36.3868,814.4142,45.8491,814.5682,55.3114,814.4681,64.7737,814.6785,74.236,814.5,83.6982,814.5,83.9374,804.1,84.2839,793.7,84.3693,783.3,84.3775,772.9,83.9529,762.5,84.1618,752.1,84.4005,741.7,82.9771,731.3,84.3768,720.9,83.4017,710.5,83.6982,711.0338,83.6982,710.005,74.236,710.4315,64.7737,711.2416,55.3114,710.4513,45.8491,710.6053,36.3868,710.8386,26.9246,710.9162,17.4623,710.5,8" style="stroke: #FF69B4; stroke-width: 3.0;"/><text fill="#FF69B4" font-family="courier" font-size="20" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="96" x="714.5" y="34.1074">Scenario</text><path d="M711.5,46.1133 L711.5,46.3935 L721.7,45.5609 L731.9,46.371 L742.1,46.6462 L752.3,45.1621 L762.5,46.0097 L772.7,45.5446 L782.9,45.6019 L793.1,46.0224 L803.3,45.1915 L813.5,46.1133 " fill="#222222" style="stroke: #FF69B4; stroke-width: 3.0;"/><path d="M711.5,54.1133 L711.5,54.3935 L721.7,53.5609 L731.9,54.371 L742.1,54.6462 L752.3,53.1621 L762.5,54.0097 L772.7,53.5446 L782.9,53.6019 L793.1,54.0224 L803.3,53.1915 L813.5,54.1133 " fill="#222222" style="stroke: #FF69B4; stroke-width: 3.0;"/><polygon fill="#84BE84" points="724.5166,71.1355,724.0768,71.7363,723.5567,72.6164,722.8128,73.2095,722.0311,73.5338,721.4078,73.562,720.6067,73.1564,719.8509,72.8914,719.2771,72.3534,718.9762,71.7374,718.7977,71.247,718.6229,70.6064,718.3391,70.0552,718.5572,69.5169,718.7482,68.9274,719.4653,68.4611,719.9697,67.8561,720.5941,67.6552,721.3364,67.4821,722.2883,67.5849,722.8097,67.8308,723.4158,67.9423,724.1529,68.6974,724.4098,69.4946,724.5214,70.0385,724.395,70.9348" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#A9A9A9" font-family="courier" font-size="15" lengthAdjust="spacingAndGlyphs" textLength="54" x="731.5" y="74.1938">main()</text><!--class Director--><polygon fill="#222222" points="769.5,144,769.5,144.2102,779.9,143.5857,790.3,144.1933,800.7,144.3997,811.1,143.2866,821.5,143.9223,831.9,143.5735,842.3,143.6165,852.7,143.9318,863.1,143.3086,873.5,144,874.0536,144,872.8697,154.8227,873.3022,165.6453,873.9319,176.468,873.4142,187.2906,873.5,198.1133,873.5,198.1815,863.1,198.0813,852.7,198.2918,842.3,198.3524,831.9,198.699,821.5,198.7843,811.1,198.7925,800.7,198.3679,790.3,198.5769,779.9,198.8155,769.5,198.1133,768.7788,198.1133,770.1785,187.2906,769.2035,176.468,770.0338,165.6453,769.005,154.8227,769.5,144" style="stroke: #FF69B4; stroke-width: 3.0;"/><text fill="#FF69B4" font-family="courier" font-size="20" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="96" x="773.5" y="170.1074">Director</text><path d="M770.5,182.1133 L770.5,182.3935 L780.7,181.5609 L790.9,182.371 L801.1,182.6462 L811.3,181.1621 L821.5,182.0097 L831.7,181.5446 L841.9,181.6019 L852.1,182.0224 L862.3,181.1915 L872.5,182.1133 " fill="#222222" style="stroke: #FF69B4; stroke-width: 3.0;"/><path d="M770.5,190.1133 L770.5,190.3935 L780.7,189.5609 L790.9,190.371 L801.1,190.6462 L811.3,189.1621 L821.5,190.0097 L831.7,189.5446 L841.9,189.6019 L852.1,190.0224 L862.3,189.1915 L872.5,190.1133 " fill="#222222" style="stroke: #FF69B4; stroke-width: 3.0;"/><!--class FlyWeightFactory--><polygon fill="#222222" points="580.5,330.5,580.5,330.7102,590.5,330.0857,600.5,330.6933,610.5,330.8997,620.5,329.7866,630.5,330.4223,640.5,330.0735,650.5,330.1165,660.5,330.4318,670.5,329.8086,680.5,331.0536,690.5,329.8697,700.5,330.3022,710.5,330.9319,720.5,330.4142,730.5,330.5682,740.5,330.4681,750.5,330.6785,760.5,330.7391,770.5,331.0857,780.5,330.5,781.1711,330.5,781.1793,339.9623,780.7546,349.4246,780.9636,358.8868,781.2022,368.3491,779.7788,377.8114,781.1785,387.2737,780.2035,396.736,780.5,406.1982,780.5,406.7321,770.5,405.7032,760.5,406.1297,750.5,406.9398,740.5,406.1495,730.5,406.3035,720.5,406.5369,710.5,406.6145,700.5,406.1943,690.5,406.4855,680.5,405.6258,670.5,406.4826,660.5,406.7464,650.5,406.6428,640.5,406.8113,630.5,405.7152,620.5,405.5461,610.5,405.5768,600.5,406.1394,590.5,406.0017,580.5,406.1982,581.1814,406.1982,580.3253,396.736,580.1569,387.2737,580.7283,377.8114,579.8332,368.3491,579.9809,358.8868,581.149,349.4246,580.9357,339.9623,580.5,330.5" style="stroke: #FF69B4; stroke-width: 3.0;"/><text fill="#FF69B4" font-family="courier" font-size="20" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="192" x="584.5" y="356.6074">FlyWeightFactory</text><path d="M581.5,368.6133 L581.5,368.8935 L591.4,368.0609 L601.3,368.871 L611.2,369.1462 L621.1,367.6621 L631,368.5097 L640.9,368.0446 L650.8,368.1019 L660.7,368.5224 L670.6,367.6915 L680.5,369.3515 L690.4,367.7729 L700.3,368.3496 L710.2,369.1892 L720.1,368.4989 L730,368.7043 L739.9,368.5707 L749.8,368.8513 L759.7,368.9321 L769.6,369.3942 L779.5,368.6133 " fill="#222222" style="stroke: #FF69B4; stroke-width: 3.0;"/><path d="M581.5,376.6133 L581.5,376.8935 L591.4,376.0609 L601.3,376.871 L611.2,377.1462 L621.1,375.6621 L631,376.5097 L640.9,376.0446 L650.8,376.1019 L660.7,376.5224 L670.6,375.6915 L680.5,377.3515 L690.4,375.7729 L700.3,376.3496 L710.2,377.1892 L720.1,376.4989 L730,376.7043 L739.9,376.5707 L749.8,376.8513 L759.7,376.9321 L769.6,377.3942 L779.5,376.6133 " fill="#222222" style="stroke: #FF69B4; stroke-width: 3.0;"/><polygon fill="#84BE84" points="594.5166,393.6355,594.0768,394.2363,593.5567,395.1164,592.8128,395.7095,592.0311,396.0338,591.4078,396.062,590.6067,395.6564,589.8509,395.3914,589.2771,394.8534,588.9762,394.2374,588.7977,393.747,588.6229,393.1064,588.3391,392.5552,588.5572,392.0169,588.7482,391.4274,589.4653,390.9611,589.9697,390.3561,590.5941,390.1552,591.3364,389.9821,592.2883,390.0849,592.8097,390.3308,593.4158,390.4423,594.1529,391.1974,594.4098,391.9946,594.5214,392.5385,594.395,393.4348" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#A9A9A9" font-family="courier" font-size="15" lengthAdjust="spacingAndGlyphs" textLength="153" x="601.5" y="396.6938">getFlyWeight(key)</text><path d="M6,258 L6,478.9063 A0,0 0 0 0 6,478.9063 L545,478.9063 A0,0 0 0 0 545,478.9063 L545,372.5 L580.373,368.5 L545,364.5 L545,268 L535,258 L6,258 A0,0 0 0 0 6,258 " fill="#222222" style="stroke: #A9A9A9; stroke-width: 3.0;"/><path d="M535,258 L535.1868,258 L534.6317,260 L535.1718,262 L535.3553,264 L534.3659,266 L535,268 L535,267.9309 L537,267.6209 L539,267.6591 L541,267.9394 L543,267.3854 L545,268 L545.348,268.348 L542.6038,265.6038 L540.8757,263.8757 L539.2715,262.2715 L536.9461,259.9461 L535,258 " fill="#222222" style="stroke: #A9A9A9; stroke-width: 3.0;"/><text fill="#A9A9A9" font-family="courier" font-size="20" lengthAdjust="spacingAndGlyphs" textLength="276" x="13" y="284.1074">public getFlyweight() {</text><text fill="#A9A9A9" font-family="courier" font-size="20" lengthAdjust="spacingAndGlyphs" textLength="324" x="37" y="310.2207">if (flyWeight(key) != null)</text><text fill="#A9A9A9" font-family="courier" font-size="20" lengthAdjust="spacingAndGlyphs" textLength="252" x="61" y="336.334">return flyWeight(key)</text><text fill="#A9A9A9" font-family="courier" font-size="20" lengthAdjust="spacingAndGlyphs" textLength="48" x="37" y="362.4473">else</text><text fill="#A9A9A9" font-family="courier" font-size="20" lengthAdjust="spacingAndGlyphs" textLength="468" x="61" y="388.5605">newFlyWeight = new ConcreteFlyWeight();</text><text fill="#A9A9A9" font-family="courier" font-size="20" lengthAdjust="spacingAndGlyphs" textLength="384" x="61" y="414.6738">flyWeightPool.add(newFlyWeight);</text><text fill="#A9A9A9" font-family="courier" font-size="20" lengthAdjust="spacingAndGlyphs" textLength="240" x="61" y="440.7871">return newFlyWeight;</text><text fill="#A9A9A9" font-family="courier" font-size="20" lengthAdjust="spacingAndGlyphs" textLength="12" x="13" y="466.9004">}</text><!--class FlyWeight--><polygon fill="#222222" points="887,330.5,887,330.7102,897.12,330.0857,907.24,330.6933,917.36,330.8997,927.48,329.7866,937.6,330.4223,947.72,330.0735,957.84,330.1165,967.96,330.4318,978.08,329.8086,988.2,331.0536,998.32,329.8697,1008.44,330.3022,1018.56,330.9319,1028.68,330.4142,1038.8,330.5682,1048.92,330.4681,1059.04,330.6785,1069.16,330.7391,1079.28,331.0857,1089.4,331.1711,1099.52,331.1793,1109.64,330.7546,1119.76,330.9636,1129.88,331.2022,1140,330.5,1139.2788,330.5,1140.6785,339.9623,1139.7035,349.4246,1140.5338,358.8868,1139.505,368.3491,1139.9315,377.8114,1140.7416,387.2737,1139.9513,396.736,1140,406.1982,1140,406.3035,1129.88,406.5369,1119.76,406.6145,1109.64,406.1943,1099.52,406.4855,1089.4,405.6258,1079.28,406.4826,1069.16,406.7464,1059.04,406.6428,1048.92,406.8113,1038.8,405.7152,1028.68,405.5461,1018.56,405.5768,1008.44,406.1394,998.32,406.0017,988.2,406.8797,978.08,406.0236,967.96,405.8552,957.84,406.4265,947.72,405.5314,937.6,405.6791,927.48,406.8472,917.36,406.6339,907.24,406.9327,897.12,405.8764,887,406.1982,887.3192,406.1982,887.5904,396.736,886.5276,387.2737,886.9041,377.8114,887.126,368.3491,887.6518,358.8868,886.9958,349.4246,887.4626,339.9623,887,330.5" style="stroke: #FF69B4; stroke-width: 3.0;"/><text fill="#FF69B4" font-family="courier" font-size="20" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="108" x="959.5" y="356.6074">FlyWeight</text><path d="M888,368.6133 L888,368.8935 L898.04,368.0609 L908.08,368.871 L918.12,369.1462 L928.16,367.6621 L938.2,368.5097 L948.24,368.0446 L958.28,368.1019 L968.32,368.5224 L978.36,367.6915 L988.4,369.3515 L998.44,367.7729 L1008.48,368.3496 L1018.52,369.1892 L1028.56,368.4989 L1038.6,368.7043 L1048.64,368.5707 L1058.68,368.8513 L1068.72,368.9321 L1078.76,369.3942 L1088.8,369.508 L1098.84,369.519 L1108.88,368.9528 L1118.92,369.2314 L1128.96,369.5496 L1139,368.6133 " fill="#222222" style="stroke: #FF69B4; stroke-width: 3.0;"/><path d="M888,376.6133 L888,376.8935 L898.04,376.0609 L908.08,376.871 L918.12,377.1462 L928.16,375.6621 L938.2,376.5097 L948.24,376.0446 L958.28,376.1019 L968.32,376.5224 L978.36,375.6915 L988.4,377.3515 L998.44,375.7729 L1008.48,376.3496 L1018.52,377.1892 L1028.56,376.4989 L1038.6,376.7043 L1048.64,376.5707 L1058.68,376.8513 L1068.72,376.9321 L1078.76,377.3942 L1088.8,377.508 L1098.84,377.519 L1108.88,376.9528 L1118.92,377.2314 L1128.96,377.5496 L1139,376.6133 " fill="#222222" style="stroke: #FF69B4; stroke-width: 3.0;"/><polygon fill="#84BE84" points="901.0166,393.6355,900.5768,394.2363,900.0567,395.1164,899.3128,395.7095,898.5311,396.0338,897.9078,396.062,897.1067,395.6564,896.3509,395.3914,895.7771,394.8534,895.4762,394.2374,895.2977,393.747,895.1229,393.1064,894.8391,392.5552,895.0572,392.0169,895.2482,391.4274,895.9653,390.9611,896.4697,390.3561,897.0941,390.1552,897.8364,389.9821,898.7883,390.0849,899.3097,390.3308,899.9158,390.4423,900.6529,391.1974,900.9098,391.9946,901.0214,392.5385,900.895,393.4348" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#A9A9A9" font-family="courier" font-size="15" lengthAdjust="spacingAndGlyphs" textLength="225" x="908" y="396.6938">operation(extrinsicState)</text><!--class UnshredConcreteFlyWeight--><polygon fill="#222222" points="1032.5,539,1032.5,539.2102,1042.3667,538.5857,1052.2333,539.1933,1062.1,539.3997,1071.9667,538.2866,1081.8333,538.9223,1091.7,538.5735,1101.5667,538.6165,1111.4333,538.9318,1121.3,538.3086,1131.1667,539.5536,1141.0333,538.3697,1150.9,538.8022,1160.7667,539.4319,1170.6333,538.9142,1180.5,539.0682,1190.3667,538.9681,1200.2333,539.1785,1210.1,539.2391,1219.9667,539.5857,1229.8333,539.6711,1239.7,539.6793,1249.5667,539.2546,1259.4333,539.4636,1269.3,539.7022,1279.1667,538.2788,1289.0333,539.6785,1298.9,538.7035,1308.7667,539.5338,1318.6333,538.505,1328.5,539,1328.4315,539,1329.2416,548.7283,1328.4513,558.4566,1328.6053,568.185,1328.8386,577.9133,1328.9162,587.6416,1328.4961,597.3699,1328.7872,607.0982,1327.9276,616.8266,1328.7844,626.5549,1328.5,636.2832,1328.5,636.8314,1318.6333,636.7277,1308.7667,636.8962,1298.9,635.8001,1289.0333,635.631,1279.1667,635.6618,1269.3,636.2243,1259.4333,636.0867,1249.5667,636.9646,1239.7,636.1085,1229.8333,635.9401,1219.9667,636.5115,1210.1,635.6164,1200.2333,635.7641,1190.3667,636.9322,1180.5,636.7189,1170.6333,637.0177,1160.7667,635.9614,1150.9,636.6024,1141.0333,636.8736,1131.1667,635.8108,1121.3,636.1873,1111.4333,636.4092,1101.5667,636.935,1091.7,636.279,1081.8333,636.7458,1071.9667,635.7294,1062.1,635.6059,1052.2333,636.7868,1042.3667,635.5663,1032.5,636.2832,1033.009,636.2832,1032.7066,626.5549,1032.2321,616.8266,1032.1462,607.0982,1032.9588,597.3699,1032.2007,587.6416,1033.0919,577.9133,1031.9473,568.185,1033.1174,558.4566,1032.9843,548.7283,1032.5,539" style="stroke: #FF69B4; stroke-width: 3.0;"/><text fill="#FF69B4" font-family="courier" font-size="20" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="288" x="1036.5" y="565.1074">UnshredConcreteFlyWeight</text><path d="M1033.5,577.1133 L1033.5,577.3935 L1043.6379,576.5609 L1053.7759,577.371 L1063.9138,577.6462 L1074.0517,576.1621 L1084.1897,577.0097 L1094.3276,576.5446 L1104.4655,576.6019 L1114.6034,577.0224 L1124.7414,576.1915 L1134.8793,577.8515 L1145.0172,576.2729 L1155.1552,576.8496 L1165.2931,577.6892 L1175.431,576.9989 L1185.569,577.2043 L1195.7069,577.0707 L1205.8448,577.3513 L1215.9828,577.4321 L1226.1207,577.8942 L1236.2586,578.008 L1246.3966,578.019 L1256.5345,577.4528 L1266.6724,577.7314 L1276.8103,578.0496 L1286.9483,576.1517 L1297.0862,578.018 L1307.2241,576.7179 L1317.3621,577.825 L1327.5,577.1133 " fill="#222222" style="stroke: #FF69B4; stroke-width: 3.0;"/><polygon fill="none" points="1046.5166,594.1355,1046.0768,594.7363,1045.5567,595.6164,1044.8128,596.2095,1044.0311,596.5338,1043.4078,596.562,1042.6067,596.1564,1041.8509,595.8914,1041.2771,595.3534,1040.9762,594.7374,1040.7977,594.247,1040.6229,593.6064,1040.3391,593.0552,1040.5572,592.5169,1040.7482,591.9274,1041.4653,591.4611,1041.9697,590.8561,1042.5941,590.6552,1043.3364,590.4821,1044.2883,590.5849,1044.8097,590.8308,1045.4158,590.9423,1046.1529,591.6974,1046.4098,592.4946,1046.5214,593.0385,1046.395,593.9348" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#A9A9A9" font-family="courier" font-size="15" lengthAdjust="spacingAndGlyphs" textLength="72" x="1053.5" y="597.1938">allState</text><path d="M1033.5,606.6982 L1033.5,606.9785 L1043.6379,606.1458 L1053.7759,606.956 L1063.9138,607.2311 L1074.0517,605.747 L1084.1897,606.5946 L1094.3276,606.1296 L1104.4655,606.1869 L1114.6034,606.6074 L1124.7414,605.7764 L1134.8793,607.4364 L1145.0172,605.8579 L1155.1552,606.4346 L1165.2931,607.2742 L1175.431,606.5839 L1185.569,606.7892 L1195.7069,606.6556 L1205.8448,606.9363 L1215.9828,607.0171 L1226.1207,607.4792 L1236.2586,607.593 L1246.3966,607.6039 L1256.5345,607.0377 L1266.6724,607.3164 L1276.8103,607.6346 L1286.9483,605.7367 L1297.0862,607.6029 L1307.2241,606.3029 L1317.3621,607.41 L1327.5,606.6982 " fill="#222222" style="stroke: #FF69B4; stroke-width: 3.0;"/><polygon fill="#84BE84" points="1046.5166,623.7204,1046.0768,624.3213,1045.5567,625.2014,1044.8128,625.7945,1044.0311,626.1188,1043.4078,626.1469,1042.6067,625.7413,1041.8509,625.4763,1041.2771,624.9383,1040.9762,624.3224,1040.7977,623.832,1040.6229,623.1914,1040.3391,622.6401,1040.5572,622.1019,1040.7482,621.5123,1041.4653,621.046,1041.9697,620.441,1042.5941,620.2401,1043.3364,620.0671,1044.2883,620.1699,1044.8097,620.4158,1045.4158,620.5272,1046.1529,621.2824,1046.4098,622.0795,1046.5214,622.6235,1046.395,623.5198" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#A9A9A9" font-family="courier" font-size="15" lengthAdjust="spacingAndGlyphs" textLength="225" x="1053.5" y="626.7788">operation(extrinsicState)</text><!--class ConcreteFlyWeight--><polygon fill="#222222" points="732,539,732,539.2102,742.12,538.5857,752.24,539.1933,762.36,539.3997,772.48,538.2866,782.6,538.9223,792.72,538.5735,802.84,538.6165,812.96,538.9318,823.08,538.3086,833.2,539.5536,843.32,538.3697,853.44,538.8022,863.56,539.4319,873.68,538.9142,883.8,539.0682,893.92,538.9681,904.04,539.1785,914.16,539.2391,924.28,539.5857,934.4,539.6711,944.52,539.6793,954.64,539.2546,964.76,539.4636,974.88,539.7022,985,539,984.2788,539,985.6785,548.7283,984.7035,558.4566,985.5338,568.185,984.505,577.9133,984.9315,587.6416,985.7416,597.3699,984.9513,607.0982,985.1053,616.8266,985.3386,626.5549,985,636.2832,985,636.6994,974.88,636.2793,964.76,636.5704,954.64,635.7108,944.52,636.5676,934.4,636.8314,924.28,636.7277,914.16,636.8962,904.04,635.8001,893.92,635.631,883.8,635.6618,873.68,636.2243,863.56,636.0867,853.44,636.9646,843.32,636.1085,833.2,635.9401,823.08,636.5115,812.96,635.6164,802.84,635.7641,792.72,636.9322,782.6,636.7189,772.48,637.0177,762.36,635.9614,752.24,636.6024,742.12,636.8736,732,636.2832,731.5276,636.2832,731.9041,626.5549,732.126,616.8266,732.6518,607.0982,731.9958,597.3699,732.4626,587.6416,731.4462,577.9133,731.3227,568.185,732.5036,558.4566,731.2831,548.7283,732,539" style="stroke: #FF69B4; stroke-width: 3.0;"/><text fill="#FF69B4" font-family="courier" font-size="20" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="204" x="756.5" y="565.1074">ConcreteFlyWeight</text><path d="M733,577.1133 L733,577.3935 L743.04,576.5609 L753.08,577.371 L763.12,577.6462 L773.16,576.1621 L783.2,577.0097 L793.24,576.5446 L803.28,576.6019 L813.32,577.0224 L823.36,576.1915 L833.4,577.8515 L843.44,576.2729 L853.48,576.8496 L863.52,577.6892 L873.56,576.9989 L883.6,577.2043 L893.64,577.0707 L903.68,577.3513 L913.72,577.4321 L923.76,577.8942 L933.8,578.008 L943.84,578.019 L953.88,577.4528 L963.92,577.7314 L973.96,578.0496 L984,577.1133 " fill="#222222" style="stroke: #FF69B4; stroke-width: 3.0;"/><polygon fill="none" points="746.0166,594.1355,745.5768,594.7363,745.0567,595.6164,744.3128,596.2095,743.5311,596.5338,742.9078,596.562,742.1067,596.1564,741.3509,595.8914,740.7771,595.3534,740.4762,594.7374,740.2977,594.247,740.1229,593.6064,739.8391,593.0552,740.0572,592.5169,740.2482,591.9274,740.9653,591.4611,741.4697,590.8561,742.0941,590.6552,742.8364,590.4821,743.7883,590.5849,744.3097,590.8308,744.9158,590.9423,745.6529,591.6974,745.9098,592.4946,746.0214,593.0385,745.895,593.9348" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#A9A9A9" font-family="courier" font-size="15" lengthAdjust="spacingAndGlyphs" textLength="126" x="753" y="597.1938">intrinsicState</text><path d="M733,606.6982 L733,606.9785 L743.04,606.1458 L753.08,606.956 L763.12,607.2311 L773.16,605.747 L783.2,606.5946 L793.24,606.1296 L803.28,606.1869 L813.32,606.6074 L823.36,605.7764 L833.4,607.4364 L843.44,605.8579 L853.48,606.4346 L863.52,607.2742 L873.56,606.5839 L883.6,606.7892 L893.64,606.6556 L903.68,606.9363 L913.72,607.0171 L923.76,607.4792 L933.8,607.593 L943.84,607.6039 L953.88,607.0377 L963.92,607.3164 L973.96,607.6346 L984,606.6982 " fill="#222222" style="stroke: #FF69B4; stroke-width: 3.0;"/><polygon fill="#84BE84" points="746.0166,623.7204,745.5768,624.3213,745.0567,625.2014,744.3128,625.7945,743.5311,626.1188,742.9078,626.1469,742.1067,625.7413,741.3509,625.4763,740.7771,624.9383,740.4762,624.3224,740.2977,623.832,740.1229,623.1914,739.8391,622.6401,740.0572,622.1019,740.2482,621.5123,740.9653,621.046,741.4697,620.441,742.0941,620.2401,742.8364,620.0671,743.7883,620.1699,744.3097,620.4158,744.9158,620.5272,745.6529,621.2824,745.9098,622.0795,746.0214,622.6235,745.895,623.5198" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#A9A9A9" font-family="courier" font-size="15" lengthAdjust="spacingAndGlyphs" textLength="225" x="753" y="626.7788">operation(extrinsicState)</text><!--link Scenario to Director--><path d="M780.362,84.238 L780.6147,84.3592 L784.2596,93.1631 L789.3857,102.6775 L794.0295,111.9605 L797.087,120.4826 L802.2469,130.0132 L806.736,139.222 " fill="none" style="stroke: #A9A9A9; stroke-width: 2.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="#A9A9A9" points="808.938,143.811,809.008,143.813,808.7425,141.838,808.8874,139.875,808.8987,137.9081,808.4703,135.9283,808.6505,133.9663,808.6261,133.9577,808.1413,134.9866,807.7796,136.0587,807.5037,137.1609,806.9325,138.1594,806.7748,139.3032,806.836,139.4773,805.6378,138.7298,804.6182,138.4907,803.6205,138.3136,802.4959,137.7756,801.438,137.4274,801.4527,137.4448,802.9311,138.696,804.4766,140.0262,805.9897,141.3183,807.5645,142.683,808.938,143.811" style="stroke: #A9A9A9; stroke-width: 2.0;"/><!--link Scenario to FlyWeightFactory--><path d="M753.013,84.079 L753.2845,84.1485 L750.0116,93.5814 L748.3303,103.4215 L746.1307,113.129 L742.2267,122.4005 L740.5816,132.2499 L737.6649,141.774 L735.2542,151.4275 L733.1954,161.171 L729.9241,170.6044 L729.0662,180.6552 L725.0706,189.9032 L723.1631,199.6855 L721.5104,209.5329 L718.3754,219.0011 L716.1081,228.6914 L713.5125,238.2976 L711.3182,248.0064 L708.9303,257.6658 L706.9118,267.4196 L704.5558,277.0872 L702.1002,286.7292 L699.0855,296.2282 L696.8892,305.9366 L694.7313,315.6548 L691.358,325.062 " fill="none" style="stroke: #A9A9A9; stroke-width: 2.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="#A9A9A9" points="690.028,330.261,690.083,330.3044,691.1411,328.63,692.5215,327.2103,693.797,325.7077,694.7274,323.9323,696.1354,322.5344,696.1222,322.5122,695.0895,322.9887,694.1234,323.5776,693.2035,324.2446,692.1242,324.6424,691.2682,325.4173,691.427,325.5113,690.5109,324.3368,690.0584,323.4368,689.6624,322.5703,688.9374,321.5089,688.3854,320.5501,688.4078,320.5539,688.7034,322.4905,689.1011,324.4444,689.4496,326.3899,689.892,328.3514,690.028,330.261" style="stroke: #A9A9A9; stroke-width: 2.0;"/><!--link Director to FlyWeightFactory--><path d="M802.484,198.366 L802.7113,198.5299 L796.2798,206.0239 L791.1808,214.4788 L785.6478,222.6207 L778.688,229.7336 L773.6193,238.2104 L767.486,245.9194 L761.7764,253.9339 L756.3613,262.1608 L749.9312,269.6558 L745.5215,278.6078 L738.485,285.6654 L733.1966,293.9838 L728.1215,302.4559 L721.8055,310.0331 L716.2159,318.1342 L710.386,326.062 " fill="none" style="stroke: #A9A9A9; stroke-width: 2.0;"/><polygon fill="#A9A9A9" points="707.397,330.207,707.4323,330.2675,709.0295,329.0962,710.8335,328.2797,712.5702,327.3477,714.0855,326.0356,715.9072,325.2496,715.9031,325.224,714.7677,325.2898,713.6531,325.4845,712.553,325.7689,711.403,325.7444,710.3229,326.1525,710.5051,326.1819,709.9349,325.0021,709.8966,323.9082,709.9233,322.8249,709.5723,321.6804,709.42,320.5681,709.4422,320.5728,709.005,322.4937,708.669,324.4359,708.2842,326.3678,707.9927,328.3193,707.397,330.207" style="stroke: #A9A9A9; stroke-width: 2.0;"/><!--link Director to UnshredConcreteFlyWeight--><path d="M873.712,177.951 L873.7242,178.0436 L877.0499,178.2109 L880.447,178.9211 L883.8209,179.4545 L887.1182,179.4065 L890.5215,180.1633 L890.5167,180.1291 L894.161,180.4895 L897.8295,181.0223 L901.5147,181.675 L905.1421,181.9146 L908.8505,182.7328 L908.887,182.9762 L912.7189,183.0418 L916.6573,183.8179 L920.6086,184.6807 L924.4844,185.0391 L928.3999,185.6628 L928.4047,185.6927 L932.4918,186.3075 L936.6008,187.0586 L940.6992,187.7439 L944.8178,188.5546 L948.8706,188.9564 L948.9216,189.2502 L953.1408,189.9859 L957.3271,190.532 L961.5615,191.3556 L965.7982,192.1921 L969.9634,192.6167 L969.9041,192.3017 L974.3023,193.7191 L978.5054,194.0993 L982.8568,195.2681 L987.0554,195.6248 L991.3792,196.647 L991.3731,196.6172 L995.7335,197.8506 L999.9508,198.3872 L1004.2525,199.335 L1008.5614,200.3173 L1012.819,201.0505 L1012.8598,201.231 L1017.0516,202.0048 L1021.313,203.087 L1025.4617,203.6703 L1029.7785,204.9977 L1033.9836,205.8304 L1034.0428,206.0667 L1038.1497,207.0539 L1042.286,208.1584 L1046.2856,208.7177 L1050.3854,209.6767 L1054.5739,210.9898 L1054.5013,210.7233 L1056.5643,211.5091 L1058.5455,211.9947 L1060.6454,212.9157 L1062.5425,213.0933 L1064.5602,213.7128 L1064.5178,213.5663 L1066.5346,214.374 L1068.37,214.5557 L1070.3344,215.1826 L1072.4249,216.2451 L1074.2908,216.5318 L1074.3498,216.7163 L1078.0991,218.0284 L1081.665,218.7668 L1085.4606,220.2238 L1089.2062,221.5242 L1092.8352,222.4599 L1092.7623,222.2629 L1096.2349,223.6833 L1099.6837,225.0392 L1103.1793,226.5218 L1106.4927,227.5118 L1109.9079,228.777 L1109.9904,228.9652 L1112.8694,229.8934 L1115.9078,231.185 L1119.1789,233.0076 L1122.0215,233.8526 L1125.2098,235.4863 L1125.3168,235.6856 L1127.8997,236.9882 L1130.4463,238.2234 L1133.0747,239.6107 L1135.8919,241.3498 L1138.4419,242.5912 L1138.3663,242.4817 L1140.764,244.3083 L1142.6475,245.3904 L1145.1157,247.3191 L1147.2547,248.7711 L1149.305,250.0947 L1149.3806,250.173 L1150.9586,251.6908 L1152.8072,253.4892 L1154.4113,255.0341 L1155.9132,256.4731 L1157.5,258 L1157.5956,258.0711 L1159.7006,260.9866 L1162.2495,264.2323 L1164.2963,267.1045 L1166.5496,270.1303 L1168.735,273.1057 L1168.5022,272.9682 L1170.4821,276.2361 L1172.7425,279.6696 L1174.606,282.8688 L1176.3272,285.984 L1178.2458,289.2157 L1178.116,289.1552 L1179.7375,292.5667 L1181.1292,295.871 L1183.1528,299.4697 L1184.8636,302.9227 L1186.1456,306.176 L1186.3655,306.2557 L1187.7164,309.8125 L1188.6494,313.2177 L1190.0235,316.7829 L1191.1055,320.2422 L1192.548,323.8322 L1192.6697,323.8658 L1193.6574,327.501 L1194.792,331.1767 L1195.4606,334.7239 L1196.505,338.3748 L1197.5663,342.0303 L1197.7595,342.0692 L1198.563,345.7972 L1198.8421,349.4195 L1199.7305,353.1646 L1200.6295,356.9119 L1201.314,360.6159 L1201.0451,360.5789 L1201.9877,364.4012 L1202.4638,368.1592 L1202.8239,371.9013 L1203.449,375.6798 L1203.9045,379.435 L1204.2273,379.4615 L1204.0753,383.2034 L1204.6627,387.0058 L1204.9591,390.7844 L1205.1932,394.5579 L1205.4513,398.3334 L1205.5138,398.3354 L1205.6249,402.0997 L1205.4205,405.8536 L1205.643,409.6216 L1205.7393,413.3854 L1206.0676,417.1567 L1206.096,417.157 L1206.0667,420.876 L1206.0593,424.5952 L1205.818,428.3119 L1205.8772,432.0318 L1205.8671,435.7509 L1205.8137,435.7483 L1205.9423,439.4058 L1205.6948,443.0447 L1205.1091,446.6668 L1205.1115,450.318 L1204.963,453.9618 L1204.7074,453.9402 L1204.7919,457.5073 L1204.6349,461.0539 L1204.3077,464.5862 L1203.5748,468.0841 L1203.4689,471.6351 L1203.6737,471.6589 L1202.7468,474.9934 L1202.769,478.438 L1202.1543,481.8087 L1201.935,485.2253 L1201.4981,488.6167 L1201.6038,488.632 L1201.239,491.8738 L1200.2478,495.0251 L1200.3068,498.3283 L1199.7093,501.5365 L1199.1641,504.7523 L1199.3198,504.7789 L1198.9749,507.8353 L1198.1329,510.8069 L1197.6906,513.8467 L1197.1905,516.8767 L1196.5802,519.8878 L1196.6663,519.9046 L1196.0358,522.684 L1195.8022,525.5406 L1194.6821,528.2248 L1194.6507,531.1207 L1193.86,533.869 " fill="none" style="stroke: #A9A9A9; stroke-width: 2.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="#A9A9A9" points="1192.8,538.8984,1192.8568,538.9394,1193.8407,537.2203,1195.1577,535.7416,1196.3662,534.1846,1197.2181,532.3702,1198.5636,530.9121,1198.5494,530.8904,1197.5386,531.4117,1196.5991,532.0422,1195.7093,532.7488,1194.6485,533.1935,1193.8272,534.005,1193.9817,534.1059,1193.0327,532.9429,1192.5348,532.0744,1192.092,531.2419,1191.3289,530.2003,1190.7342,529.2686,1190.7565,529.2734,1191.137,531.1923,1191.6187,533.133,1192.0516,535.0632,1192.5777,537.0134,1192.8,538.8984" style="stroke: #A9A9A9; stroke-width: 2.0;"/><!--link Director to ConcreteFlyWeight--><path d="M823.843,198.243 L824.1221,198.2679 L824.1743,208.0694 L825.8628,218.0169 L827.0184,227.9169 L826.4217,237.6604 L828.1474,247.6113 L828.5658,257.4454 L829.5044,267.326 L830.8047,277.2389 L830.8586,287.0405 L833.3936,297.0636 L832.7028,306.7988 L834.1587,316.7256 L835.8765,326.6757 L836.0705,336.4898 L837.1566,346.3836 L837.905,356.2472 L839.0661,366.1477 L840.0281,376.0303 L841.3699,385.9469 L842.3648,395.8326 L843.2572,405.709 L843.5748,415.5342 L844.7338,425.4345 L845.9323,435.3382 L844.9235,445.045 L847.6639,455.0864 L847.2505,464.8464 L849.2348,474.8203 L848.7499,484.5738 L850.1979,494.4999 L852.1553,504.4714 L851.9872,514.2532 L853.0733,524.147 L853.815,534.01 " fill="none" style="stroke: #A9A9A9; stroke-width: 2.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="#A9A9A9" points="854.259,538.9907,854.3253,539.0134,854.7652,537.0821,855.5938,535.2836,856.2959,533.4419,856.5817,531.458,857.4437,529.6709,857.4238,529.6543,856.6088,530.4476,855.8941,531.3247,855.2489,532.2601,854.3638,532.9947,853.8148,534.0105,853.9332,534.152,852.8121,533.1235,852.0367,532.5084,851.3035,531.9436,850.3249,531.0855,849.4753,530.3816,849.4952,530.3927,850.4227,532.0983,851.4408,533.8542,852.4152,535.5858,853.4729,537.3637,854.259,538.9907" style="stroke: #A9A9A9; stroke-width: 2.0;"/><!--link FlyWeightFactory to FlyWeight--><path d="M793.905,368.5 L793.905,368.7802 L804.2067,367.9476 L814.5083,368.7577 L824.81,369.0329 L835.1117,367.5488 L845.4133,368.3964 L855.715,367.9313 L866.0167,367.9887 L876.3183,368.4091 L886.62,368.5 " fill="none" style="stroke: #A9A9A9; stroke-width: 2.0;"/><polygon fill="#222222" points="780.66,368.5,780.6989,368.5583,781.7834,369.1851,783.0957,370.1536,784.3339,371.0109,785.3281,371.5021,786.66,372.5,786.6456,372.4784,787.7811,371.5817,788.9891,370.7936,790.2474,370.0811,791.3322,369.1082,792.66,368.5,792.7624,368.6536,791.3435,367.5252,790.2234,366.8451,789.1399,366.2198,787.8441,365.2762,786.66,364.5,786.6726,364.5189,785.4541,365.2911,784.293,366.1495,783.1042,366.9663,781.9683,367.8624,780.66,368.5" style="stroke: #A9A9A9; stroke-width: 2.0;"/><!--link FlyWeight to UnshredConcreteFlyWeight--><path d="M1054.48,422.752 L1054.7021,422.9229 L1059.9902,430.1438 L1066.5802,438.3665 L1072.7463,446.2631 L1077.5182,453.0866 L1084.1379,461.3322 L1089.7173,468.7773 L1095.7108,476.5409 L1101.992,484.526 L1107.2815,491.7479 L1114.545,500.489 L1119.242,507.2549 L1125.647,515.3353 L1132.2604,523.5761 L1137.6614,530.8838 L1143.7,538.6822 " fill="none" style="stroke: #A9A9A9; stroke-width: 2.0;"/><polygon fill="none" points="1048.86,426.923,1048.9265,426.945,1047.3989,422.8559,1046.2612,418.8956,1044.9965,414.8934,1043.3142,410.7532,1042.21,406.804,1042.1958,406.7823,1045.6803,409.001,1049.2361,411.329,1052.8416,413.733,1056.276,415.875,1059.95,418.384,1060.0626,418.5302,1057.6038,419.9253,1055.4738,421.7474,1053.3838,423.6215,1051.0606,425.1925,1048.86,426.923" style="stroke: #A9A9A9; stroke-width: 2.0;"/><!--link FlyWeight to ConcreteFlyWeight--><path d="M975.119,423.234 L975.347,423.3969 L968.7793,431.1592 L963.5483,439.8764 L957.882,448.2826 L950.7841,455.6663 L945.5836,464.4053 L939.315,472.3813 L933.4714,480.6609 L927.9233,489.1516 L921.357,496.9149 L916.8175,506.1261 L909.6428,513.4548 L904.2219,522.0363 L899.0149,530.7707 L892.656,538.6822 " fill="none" style="stroke: #A9A9A9; stroke-width: 2.0;"/><polygon fill="none" points="969.534,419.01,969.5744,419.0673,972.9186,416.4559,976.4995,414.1803,980.0033,411.7953,983.2538,409.0508,986.855,406.804,986.8301,406.7968,985.5327,410.8328,984.3607,414.9054,983.2758,419.0034,981.8905,423.0139,980.926,427.147,981.0333,427.2972,978.5255,425.3486,976.3309,423.8386,974.1745,422.382,971.7958,420.6141,969.534,419.01" style="stroke: #A9A9A9; stroke-width: 2.0;"/><!--
@startuml
skinparam backgroundColor #222222
skinparam handwritten true
hide circle

skinparam shadowing false
skinparam padding 1
skinparam arrow {
    Thickness 2
    Color #DarkGrey
    FontSize 20
    FontName courier
    FontStyle normal
    FontColor #DarkGrey
}
skinparam class {
    BorderThickness 3
    BorderColor #ff69b4
    BackgroundColor #222222
    FontSize 20
    FontName courier
    FontStyle bold
    FontColor #ff69b4
}
skinparam classAttribute {
    FontSize 15
    FontName courier
    FontStyle normal
    FontColor #DarkGrey
}
skinparam note {
    BorderThickness 3
    BorderColor #DarkGrey
    BackgroundColor #222222
    FontSize 20
    FontName courier
    FontStyle normal
    FontColor #DarkGrey
}

class Scenario  {
+ main()
}
class Director
class FlyWeightFactory  {
+ getFlyWeight(key)
}
note left
public getFlyweight() {
  if (flyWeight(key) != null)
    return flyWeight(key)
  else
    newFlyWeight = new ConcreteFlyWeight();
    flyWeightPool.add(newFlyWeight);
    return newFlyWeight;
}
end note
class FlyWeight  {
+ operation(extrinsicState)
}
class UnshredConcreteFlyWeight  {
+ allState
+ operation(extrinsicState)
}
class ConcreteFlyWeight  {
+ intrinsicState
+ operation(extrinsicState)
}


Scenario .down.> Director
Scenario .down.> FlyWeightFactory
Director -down-> FlyWeightFactory
Director .down.> UnshredConcreteFlyWeight
Director .down.> ConcreteFlyWeight
FlyWeightFactory o-right- FlyWeight
FlyWeight <|-down- UnshredConcreteFlyWeight
FlyWeight <|-down- ConcreteFlyWeight
@enduml

PlantUML version 1.2019.05(Sat Apr 20 18:45:36 CEST 2019)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Java Version: 11.0.8+10-LTS
Operating System: Windows 10
OS Version: 10.0
Default Encoding: windows-1252
Language: es
Country: ES
--></g></svg>